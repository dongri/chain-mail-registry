<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChainMailRegistry - Decentralized Email Registry</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-envelope-open-text"></i>
                <h1>ChainMailRegistry</h1>
            </div>
            <div class="wallet-connect">
                <button id="connectWallet" class="btn connect-btn">
                    <i class="fas fa-wallet"></i> Connect Wallet
                </button>
                <div id="walletInfo" class="wallet-info hidden">
                    <span id="walletAddress"></span>
                    <span class="connection-status">Connected</span>
                </div>
            </div>
        </header>

        <section class="hero">
            <div class="hero-content">
                <h2>Decentralized Email Registry</h2>
                <p>Securely store and manage your email address on the blockchain</p>
            </div>
            <div class="hero-image">
                <div class="hero-icon">
                    <i class="fas fa-envelope fa-5x"></i>
                    <i class="fas fa-link fa-3x"></i>
                    <i class="fas fa-cube fa-5x"></i>
                </div>
            </div>
        </section>

        <section class="contract-info">
            <div class="contract-card">
                <h3>Contract Reference</h3>
                <div class="contract-address">
                    <span class="label">Address:</span>
                    <span id="contractAddressDisplay">0x67eaa10dBe988EcFF3093A5d2e67E08AC2500ee1</span>
                    <button id="copyAddressBtn" class="copy-btn">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
                <div class="contract-network">
                    <span class="label">Network:</span>
                    <span id="networkDisplay">Ethereum Mainnet</span>
                </div>
                <div class="contract-functions">
                    <h4>Contract Functions:</h4>
                    <div class="function-block">
                        <div class="function-name">setEmail(string email)</div>
                        <div class="function-desc">Store your email address on the blockchain</div>
                    </div>
                    <div class="function-block">
                        <div class="function-name">getEmail(address user)</div>
                        <div class="function-desc">Retrieve an email address for a given Ethereum address</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="app-section">
            <div class="card">
                <h3>Manage Your Email</h3>
                <div class="form-group">
                    <label for="emailInput">Your Email Address</label>
                    <input type="email" id="emailInput" placeholder="Enter your email address">
                </div>
                <button id="setEmailBtn" class="btn action-btn">
                    <i class="fas fa-save"></i> Set Email
                </button>
                <div id="setEmailStatus" class="status-message"></div>
            </div>

            <div class="card">
                <h3>Lookup Email</h3>
                <div class="form-group">
                    <label for="addressInput">Ethereum Address</label>
                    <input type="text" id="addressInput" placeholder="Enter Ethereum address">
                </div>
                <button id="getEmailBtn" class="btn action-btn">
                    <i class="fas fa-search"></i> Get Email
                </button>
                <div id="emailResult" class="result-container">
                    <div id="getEmailStatus" class="status-message"></div>
                    <div id="emailDisplay" class="email-display hidden">
                        <span>Email: </span>
                        <span id="foundEmail"></span>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <p>&copy; 2025 ChainMailRegistry. All rights reserved.</p>
            <div class="social-links">
                <a href="https://github.com/dongri/ChainMailRegistry" class="social-link"><i class="fab fa-github"></i></a>
            </div>
        </footer>
    </div>

    <div id="transactionModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h3>Transaction in Progress</h3>
            <div class="loader"></div>
            <p id="transactionStatus">Please confirm the transaction in your wallet...</p>
        </div>
    </div>

    <!-- Load ethers.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.8.0/ethers.umd.min.js"></script>
    
    <script src="js/script.js"></script>
</body>
</html>
